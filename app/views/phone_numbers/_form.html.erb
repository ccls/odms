<% stylesheets('edit_phone_number') %>
<% javascripts('edit_phone_number') %>

<% sub_menu_for(@study_subject||@phone_number.study_subject) %>
<% id_bar_for(@study_subject||@phone_number.study_subject) %>

<h3>Edit Phone Number</h3>

<%= f.error_messages %>

<%= f.wrapped_check_box :is_primary,
	:label_text => 'Primary Phone Number?' %>

<%= f.wrapped_text_field :phone_number,
	:label_text => 'Phone Number:' %>

<hr/>

<%= f.wrapped_collection_select :phone_type_id, PhoneType.all, 
			:id, :code, :include_blank => true, :label_text => 'Type:' %>

<div class='source'>
<%#
	This is probably not all data sources.  It also does not currently include an 'other'


I should have all the implementation details in this afternoon's tickets. Basically, the combo box should have data_source.description for all of those that have a context of 1 (address) in the contexts_dataSohrces join table.

The same logic applies for phone numbers with context of 2 (phones) rather than 1


This join does not yet exist.


I think that this will end up being something like ...

Context['phones'].data_sources

... rather than DataSource.all

Currently, this is irrelevant as the result is the same.


%>
<%= f.wrapped_collection_select :data_source_id, DataSource.all, 
			:id, :to_s, :include_blank => true, :label_text => 'Source:' %>
<%= f.wrapped_text_field :data_source_other, 
	:label_text => 'Specify if other:' %>
</div><!-- class='source' -->


<div class='verified'>
<%= f.wrapped_check_box :is_verified,
	:label_text => 'Verified?' %>
<%= f.wrapped_text_field :how_verified, 
	:label_text => 'Specify how?' %>
</div><!-- class='verified' -->

<div class='valid'>
<%= f.wrapped_y_n_dk_select :is_valid,
	:label_text => 'Number is valid?' %>
<%= f.wrapped_text_field :why_invalid, 
	:label_text => 'Why not?' %>
</div><!-- class='valid' -->

<%= f.wrapped_y_n_dk_select :current_phone,
	:label_text => 'Current Number?' %>

