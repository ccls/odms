<% stylesheets(:abstract__form) %>

<h2>CALIFORNIA CHILDHOOD LEUKEMIA STUDY MEDICAL ABSTRACT FORM</h2>

<ol type='I'>
<li><div><h3>PARTICIPANT INFORMATION</h3>
	<ul>
	<li><%= wrapped_spans :study_subject, :full_name,
        :label_text => "Patient's Name:" %></li>
	<li><%= wrapped_spans :study_subject, :initials,
        :label_text => "Patient's Initials:" %></li>
	<li><%= wrapped_spans :study_subject, :organization %></li>
	<li><%= wrapped_date_spans :study_subject, :dob %></li>
	<li><%= wrapped_date_spans :study_subject, :diagnosis_date %></li>
	<li><%= wrapped_date_spans :study_subject, :treatment_began_on %></li>
	<li><%= wrapped_spans :study_subject, :hospital_no %></li>
	</ul>
	</div></li>




<!--

	translations won't work until abstract is an activerecord

-->


<li><div><h3>DIAGNOSTIC STUDIES</h3>
	<ol type='A'>
	<li><div><h4>BONE MARROW BIOPSY</h4>
		<%= f.wrapped_yndk_select :bmb_report_found %>
		<%= f.wrapped_date_text_field :bmb_test_date %>
		<%= f.wrapped_yndk_select :bmb_percentage_blasts_known %>
		<%= f.wrapped_text_field :bmb_percentage_blasts %>
		
		<div>Diagnosis or Interpretation:<br/>
		<%= f.text_area :bmb_comments, :class => :autosize, :rows => 3, :cols => 50 %></div>
	</div></li>
	
	<!-- ################################################################# -->
	
	<li><div><h4>BONE MARROW ASPIRATE</h4>
		<%= f.wrapped_yndk_select :bma_report_found %>
		<%= f.wrapped_date_text_field :bma_test_date %>
		<%= f.wrapped_yndk_select :bma_percentage_blasts_known %>
		<%= f.wrapped_text_field :bma_percentage_blasts %>

		<div>Comments or Interpretation:<br/>
		<%= f.text_area :bma_comments, :class => :autosize, :rows => 3, :cols => 50 %>
		</div>
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>DIAGNOSTIC FLOW CYTOMETRY (or IMMUNOPHENOTYPING)</h4>
		<%= f.wrapped_yndk_select :dfc_report_found %>
		<%= f.wrapped_date_text_field :dfc_test_date %>
		<%= f.wrapped_yndk_select :dfc_numerical_data_available %>
Numerical data available on report?
	
<h1>These seem to be integer percentages</h1>
<h1>BUT NOT ALL. Some are '&lt;1' or '19 dim'</h1>
	
		<div>B Cell Markers:<ul>
		<li>CD10 (or CALLA) <%= f.text_field :marker_cd10 %></li>
		<li>CD19 <%= f.text_field :marker_cd19 %></li>
		<li>CD20 <%= f.text_field :marker_cd20 %></li>
		<li>CD21 <%= f.text_field :marker_cd21 %></li>
		<li>CD22 <%= f.text_field :marker_cd22 %></li>
		<li>CD23 <%= f.text_field :marker_cd23 %></li>
		<li>CD24 (BA-1) <%= f.text_field :marker_cd24 %></li>
		<li>CD40 <%= f.text_field :marker_cd40 %></li>
		<li>Surface Immunoglobulin (or sIg) <%= f.text_field :marker_sig %></li>
		<li>Cytoplasmic IgM (or cytoplasmic mu) <%= f.text_field :marker_igm %></li>
		<li>Bone Marrow Kappa <%= f.text_field :marker_bmk %></li>
		<li>Bone Marrow Lambda <%= f.text_field :marker_bml %></li>
		<li>CD19 + CD10 <%= f.text_field :marker_cd19_cd10 %></li>
		</ul></div>
		
		<div>T Cell Markers:<ul>
		<li>CD1a <%= f.text_field :marker_cd1a %></li>
		<li>CD2 <%= f.text_field :marker_cd2 %></li>
		<li>CD3 <%= f.text_field :marker_cd3 %></li>
		<li>CD4 <%= f.text_field :marker_cd4 %></li>
		<li>CD5 <%= f.text_field :marker_cd5 %></li>
		<li>CD7 <%= f.text_field :marker_cd7 %></li>
		<li>CD8 <%= f.text_field :marker_cd8 %></li>
		<li>CD3 + CD4 <%= f.text_field :marker_cd3_cd4 %></li>
		<li>CD3 + CD8 <%= f.text_field :marker_cd3_cd8 %></li>
		</ul></div>
	
	
		<div>Myeloid markers:<ul>
		<li>CD11b <%= f.text_field :marker_cd11b %></li>
		<li>CD11c <%= f.text_field :marker_cd11c %></li>
		<li>CD13 (or MY-7) <%= f.text_field :marker_cd13 %></li>
		<li>CD15 (or LEU M1) <%= f.text_field :marker_cd15 %></li>
		<li>CD33 (or MY-9) <%= f.text_field :marker_cd33 %></li>
		<li>CD41 <%= f.text_field :marker_cd41 %></li>
		<li>CDw65 <%= f.text_field :marker_cdw65 %></li>
		</ul></div>
	
	
		<div>Stem Cell Marker:<ul>
		<li>CD34 <%= f.text_field :marker_cd34 %></li>
		</ul></div>
	
	
		<div>Megakaryocyte Marker:<ul>
		<li>CD61 <%= f.text_field :marker_cd61 %></li>
		</ul></div>
	
	
		<div>Mono Marker:<ul>
		<li>CD14 <%= f.text_field :marker_cd14 %></li>
		</ul></div>
	
	
		<div>Erythroid Marker:<ul>
		<li>Glycophorin A <%= f.text_field :marker_glycophorin_a %></li>
		</ul></div>
	
	
		<div>Natural Killer associated markers:<ul>
		<li>CD16 <%= f.text_field :marker_cd16 %></li>
		<li>CD56 <%= f.text_field :marker_cd56 %></li>
		<li>CD57 <%= f.text_field :marker_cd57 %></li>
		</ul></div>
	
	
		<div>Non-Specific Markers:<ul>
		<li>CD9 (or BA-2) <%= f.text_field :marker_cd9 %></li>
		<li>CD25 <%= f.text_field :marker_cd25 %></li>
		<li>CD38 <%= f.text_field :marker_cd38 %></li>
		<li>CD45 <%= f.text_field :marker_cd45 %></li>
		<li>CD71 <%= f.text_field :marker_cd71 %></li>
		<li>%HLA-DR <%= f.text_field :marker_hla_dr %></li>
		<li>TERM DOXYTRAN (or Tdt) <%= f.text_field :marker_tdt %></li>
		</ul></div>
	
		<div>Other(s):<br/>
		<%= f.text_area :other_markers, :class => :autosize, :rows => 3, :cols => 50 %></div>

		<div>Remarks or comments:<br/>
		<%= f.text_area :marker_comments, :class => :autosize, :rows => 3, :cols => 50 %></div>
	
	</div></li>
	
	
	
<h1>NOTE:  How to do these "Other" fields?</h1>
	
	
	

	<!-- ################################################################# -->

	<li><div><h4>Tdt (or Terminal Deoxynucleotydyl Transferase)</h4>
		<%= f.wrapped_yndk_select :tdt_report_found %>
		<%= f.wrapped_date_text_field :tdt_test_date %>
	

		<div>
		<%= f.label :tdt_found_in_cytometry, 'Check if found in Flow Cytometry (part C. I.):' %>
		<%= f.check_box :tdt_found_in_cytometry, {}, 'yes', 'no' %>
		</div>
<h1>Make this a single variable and use radio buttons, prefer tdt_found_where select/options</h1>
		<div>
		<%= f.label :tdt_found_separately, 'Check if done separately from Flow Cytometry:' %>
		<%= f.check_box :tdt_found_separately, {}, 'yes', 'no' %> and report results below:
		</div>
	

<h1>Set defaults so all of these have default values?</h1>
<h1>Or use checkboxes or blank radio button option to uncheck stuff?</h1>
<h1>Or use select / options with blank option (think that this is my preferred)?</h1>
	
<h1>Are these counts? Checkboxes? Checked on the forms that I saw</h1>
<h1>Positive / Negative radio buttons</h1>	
		<div>
		<%= f.label :tdt_positive, 'Positive:' %>
		<%= f.text_field :tdt_positive %>
		<%= f.label :tdt_negative, 'Negative:' %>
		<%= f.text_field :tdt_negative %>
		<%= f.label :tdt_numerical_result, 'Numerical Result:' %>
		<%= f.text_field :tdt_numerical_result %>
		</div>
	
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>PLOIDY (or DNA CONTENT)</h4>
		<%= f.wrapped_yndk_select :ploidy_report_found %>
		<%= f.wrapped_date_text_field :ploidy_test_date %>




		<div>
		<%= f.label :ploidy_found_in_cytometry, 'Check if found in Flow Cytometry (part C. I.):' %>
		<%= f.check_box :ploidy_found_in_cytometry, {}, 'yes', 'no' %>
		</div>
<h1>Make this a single variable and use radio buttons</h1>
		<div>
		<%= f.label :ploidy_found_separately, 'Check if done separately from Flow Cytometry:' %>
		<%= f.check_box :ploidy_found_separately, {}, 'yes', 'no' %> and report results below:
		</div>




		<ul>
			<li>Hypodiploid: 
<h1>CHECKBOX? TEXTFIELD?</h1></li>
			<li>Pseudodiploid:</li>
			<li>Hyperdiploid:</li>
			<li>Diploid (or Normal):</li>
			<li>DNA Index:</li>
			<li>Other DNA measurement:</li>
			<li>Notes: 
<h1>text area</h1></li>
		</ul>






	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>HISTOCOMPATIBILITY STUDIES (or HLA-TYPING)</h4>
		<%= f.wrapped_yndk_select :hla_report_found %>
		<%= f.wrapped_date_text_field :hla_test_date %>

		<div>Results:<br/>
		<%= f.text_area :hla_results, :class => :autosize, :rows => 3, :cols => 50 %></div>
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>CYTOGENETIC STUDIES</h4>
		<%= f.wrapped_yndk_select :cs_report_found %>
		<%= f.wrapped_date_text_field :cs_test_date %>

		<%= f.wrapped_yndk_select :cs_conventional_karyotype_done %>
		<%= f.wrapped_yndk_select :cs_hospital_fish_done %>
		<%= f.wrapped_yndk_select :cs_hyperdiploidy_detected %>
	
		<div>If yes, hyperdiploidy by karyotype or FISH:
		<%= f.radio_button_with_label :cs_hyperdiploidy_by, 'Karyotype' %>
		<%= f.radio_button_with_label :cs_hyperdiploidy_by, 'FISH' %>
		</div>
	
		<div>Number of chromosomes (if karyotype)?
		<%= f.text_field :cs_hyperdiploidy_number_of_chromosomes %></div>
	
		<p>Please indicate the presence or absence of the following translocations. Leave no blanks.</p>
	
		<%= f.wrapped_yndk_select :translocation_t12_21 %>
		<%= f.wrapped_yndk_select :translocation_inv16 %>
		<%= f.wrapped_yndk_select :translocation_t1_19 %>
		<%= f.wrapped_yndk_select :translocation_t8_21 %>
		<%= f.wrapped_yndk_select :translocation_t9_22 %>
		<%= f.wrapped_yndk_select :translocation_t15_17 %>

<h1>NOTE:  How to do these "Other" fields?</h1>
	
	
		<p>Please indicate the presence of absence of the following trisomies</p>
		<%= f.wrapped_yndk_select :trisomy_4 %>
		<%= f.wrapped_yndk_select :trisomy_5 %>
		<%= f.wrapped_yndk_select :trisomy_10 %>
		<%= f.wrapped_yndk_select :trisomy_17 %>
		<%= f.wrapped_yndk_select :trisomy_21 %>
	
	
		<div>Conventional Karyotyping Results [Numerical results &amp; Summary of findings]:<br/>
		<%= f.text_area :cs_conventional_karyotyping_results, :class => :autosize, :rows => 3, :cols => 50 %></div>
	
		<div>Hospital FISH Results [Numerical results &amp; Summary of findings]:<br/>
		<%= f.text_area :cs_hospital_fish_results, :class => :autosize, :rows => 3, :cols => 50 %></div>
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>COMPLETE BLOOD COUNT (CBC)</h4>
		<%= f.wrapped_yndk_select :cbc_report_found %>
		<%= f.wrapped_date_text_field :cbc_test_date %>
	
		<div>Leukocyte Count (WBC) <%= f.text_field :cbc_leukocyte_count %> K/mm3</div>
		<div>Percentage Blasts (aka atypical or abnormal cells) <%= f.text_field :cbc_percentage_blasts %> %</div>
		<div>OR Number of Blasts <%= f.text_field :cbc_number_of_blasts %></div>
		<div>Hemoglobin (or Hgb) <%= f.text_field :cbc_hemoglobin %> GM/DL</div>
		<div>Platelet Count (or Plt ct) <%= f.text_field :cbc_platelet_count %> K/mm3</div>
	
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>CEREBROSPINAL FLUID (or CSF)</h4>
		<%= f.wrapped_yndk_select :csf_report_found %>
		<%= f.wrapped_date_text_field :csf_test_date %>
	
		<div>WBC [#] <%= f.text_field :csf_wbc %></div>
		<div>RBC [#] <%= f.text_field :csf_rbc %></div>
		<div>Blasts present (yes/no) <%= f.text_field :csf_blasts_present %> </div>
		<div>Number of Blasts <%= f.text_field :csf_number_of_blasts %></div>
		<div>PB contamination (yes/no) <%= f.text_field :csf_pb_contamination %></div>
	
		<div>Cytology (or CSF Pathology) <br/>
		<%= f.text_area :csf_cytology, :class => :autosize, :rows => 3, :cols => 50 %></div>
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>CHEST IMAGING (Chest X-ray)</h4>
		<%= f.wrapped_yndk_select :cxr_report_found %>
		<%= f.wrapped_date_text_field :cxr_test_date %>
	
		<div>Check as appropriate: 
		<%= f.label :cxr_result, 'Normal Chest', :value => 'normal' %>
		<%= f.radio_button :cxr_result, 'normal' %>
		<%= f.label :cxr_result, 'Mediastinal Mass Present', :value => 'mass' %>
		<%= f.radio_button :cxr_result, 'mass' %>
		</div>
	
		<div>If mediastinal mass present, describe: <br/>
		<%= f.text_area :cxr_mediastinal_mass_description, :class => :autosize, :rows => 3, :cols => 50 %></div>
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>ADMITTING HISTORY AND PHYSICAL (H&amp;P) REPORT</h4>
		<%= f.wrapped_yndk_select :hpr_report_found %>
		<%= f.wrapped_date_text_field :hpr_test_date %>
		<div>1) ORGANOMEGALY<br/>
		<%= f.wrapped_yndk_select :hpr_hepatomegaly %>
		<%= f.wrapped_yndk_select :hpr_splenomegaly %>
		</div>
		<div>2) DOWN SYNDROME PHENOTYPE (From Admitting H&amp;P Report)<br/>
		<%= f.wrapped_yndk_select :hpr_down_syndrome_phenotype %>
		</div>
	
	
		<div>3) PHYSICAL EXAM (from physical exam at diagnosis) (HAVE BOTH? OR COMPUTE ONE FROM OTHER? WHAT'S THE 'b' FOR?)</div>
		<div>Height at Diagnosis - in centimeters: <%= f.text_field :height_in_cm %> in inches: <%= f.text_field :height_in_in %></div>
		<div>Weight at diagnosis - in kilograms:<%= f.text_field :weight_in_kg %> in pounds:<%= f.text_field :weight_in_lb %> b</div>
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>DISCHARGE SUMMARY</h4>
		<%= f.wrapped_yndk_select :ds_report_found %>
		<%= f.wrapped_date_text_field :ds_test_date %>
	
		<div>CLINICAL DIAGNOSIS (from Discharge Summary Report)<br/>
		<%= f.text_area :ds_clinical_diagnosis, :class => :autosize, :rows => 3, :cols => 50 %></div>
	</div></li>

	<!-- ################################################################# -->

	<li><div><h4>CHEMOTHERAPY PROTOCOL</h4>
		<%= f.wrapped_yndk_select :cp_report_found %>

		<div>Was patient enrolled on a standardized induction protocol, such as COG?
		<%= f.wrapped_yndk_select :cp_induction_protocol %>
		</div>
	
		<div>If yes, indicate protocol name and number used <%= f.text_field :cp_induction_protocol_name_and_number %> (e.g. COG AALL0231)</div>
	
		<div>If no, specify any therapeutic agents (especially the first 3-4 induction agents) and if the patient was "treated per _____":<br/>
		<%= f.text_area :cp_therapeutic_agents, :class => :autosize, :rows => 3, :cols => 50 %></div>
	</div></li>
	</ol>
</div></li>


<li><div><h3>RESPONSE TO THERAPY</h3>


<h4>DAY 7 (8) Bone Marrow Aspirate</h4>
<%= f.wrapped_yndk_select :bma07_report_found %>
<%= f.wrapped_date_text_field :bma07_test_date %>

<div>Classification 
<%= f.select :bma07_classification, [["<5% Blasts", "M1"],
	["5-25% Blasts", "M2"], [">25% Blasts", "M3"]], :include_blank => true %>
</div>

<div>Percentage of blasts (if reported) <%= f.text_field :bma07_percentage_of_blasts %></div>
<div>Inconclusive Results
<%= f.check_box :bma07_inconclusive_results, {}, 'yes', 'no' %>
<%= f.label :bma07_inconclusive_results, "(check if inconclusive results are indicated on report)" %>
</div>


<h4>DAY 14 (15) Bone Marrow Aspirate</h4>
<%= f.wrapped_yndk_select :bma14_report_found %>
<%= f.wrapped_date_text_field :bma14_test_date %>

<div>Classification 
<%= f.select :bma14_classification, [["<5% Blasts", "M1"],
	["5-25% Blasts", "M2"], [">25% Blasts", "M3"]], :include_blank => true %>
</div>

<div>Percentage of blasts (if reported) <%= f.text_field :bma14_percentage_of_blasts %></div>

<div>Inconclusive Results
<%= f.check_box :bma14_inconclusive_results, {}, 'yes', 'no' %>
<%= f.label :bma14_inconclusive_results, "(check if inconclusive results are indicated on report)" %>
</div>

<h4>DAY 28 (29) Bone Marrow Aspirate</h4>
<%= f.wrapped_yndk_select :bma28_report_found %>
<%= f.wrapped_date_text_field :bma28_test_date %>

<div>Classification 
<%= f.select :bma28_classification, [["<5% Blasts", "M1"],
	["5-25% Blasts", "M2"], [">25% Blasts", "M3"]], :include_blank => true %>
</div>



<div>Percentage of blasts (if reported) <%= f.text_field :bma28_percentage_of_blasts %></div>

<div>Inconclusive Results
<%= f.check_box :bma28_inconclusive_results, {}, 'yes', 'no' %>
<%= f.label :bma28_inconclusive_results, "(check if inconclusive results are indicated on report)" %>
</div>

<div>At the end of induction (30 days), was the child in clinical remission?<br/>
<%= f.wrapped_yndk_select :clinical_remission %>
</div>



</div></li>
<li><div><h3>DIAGNOSIS &amp; CLASSIFICATION</h3>

<div>Class of Leukemia:

<h1>Use grouped select / option?</h1>

<%= f.select :leukemia_class, grouped_options_for_select({ 
	'ALL' => [ 'ALL L1', 'ALL L2', 'ALL L3', 'ALL Other'], 
	'AML' => [ 'AML M0', 'AML M1', 'AML M2', 'AML M3', 'AML M4', 'AML M4e',
		'AML M5', 'AML M5A', 'AML M5B', 'AML M6', 'AML M7', 'AML Other' ],
	'CML' => ['CML'], 'CLL' => ['CLL']
}),:include_blank => true %>

<%= f.wrapped_text_field :other_all_leukemia_class %>
<%= f.wrapped_text_field :other_aml_leukemia_class %>

<%= f.wrapped_text_field :icdo_classification_number %>
<div>ICDO CLASSIFICATION DESCRIPTION<br/>
<%= f.text_area :icdo_classification_description, :class => :autosize, :rows => 3, :cols => 50 %></div>

<div>LINEAGE: (check the appropriate box if lineage is indicated)</div>
<div><ul>
	<li><%= f.radio_button_with_label :leukemia_lineage, 'B-Cell Lineage' %></li>
	<li><%= f.radio_button_with_label :leukemia_lineage, 'T-Cell Lineage' %></li>
</ul></div>







</div></li>
<li><div><h3>NAME AND DATE OF ABSTRACTOR</h3>
<h1> (these will be computed values)</h1>
<pre>
Name _________________________________
Date __________________
NAME AND DATE OF REVIEWER
Name _________________________________
Date __________________
NAME AND DATE OF DATA ENTRY PERSONS
Entry 1 Name _________________________________
Date __________________
Entry 2 Name _________________________________
Date _________________
</pre>
</div></li>

</ol>
<p><%= f.submit( 'Save' ) %></p>
