#!/usr/bin/env ruby


Autotest.add_hook :post_initialize do |autotest|
	#	by default it is 'minitest/autorun' which if fine, but I can't figure
	#	out how to stop it from running all tests when one file changes.
	autotest.testlib           = "test/unit"
end


#
#	I'm getting the distinct impression that multiple hooks of the same name don't work.
#	These exceptions aren't ignored as they should be, but if I add them to the list in
#	my ~/.autotest, they do?
#
#	Also, be careful not to over exclude.  "doc" excluded all of my "document" related tests.
#
#	Combined my ~/.autotest with the local .autotest.
#
#	Even 2 :initialize hooks in this file won't work.  Only uses the first one.
#

Autotest.add_hook :initialize do |autotest|
  %w{.git .svn .hg .DS_Store ._* vendor/ tmp/ log/ doc/ versions/ coverage/ coverage-one-run/ config/ solr/
			abstract_notes/ ICF_Master_Trackers/ OLD_UNUSED_FILES/ anand/ bc_infos/ birth_data/ data/ development/ 
			app/assets/ app/views/layouts/ misc/ test/assets/ 
			dumps/ gitignored/ production/ tracking2k/ }.each do |exception|
#		puts "Adding exception #{exception} from .autotest"
		autotest.add_exception(exception)
	end
end
